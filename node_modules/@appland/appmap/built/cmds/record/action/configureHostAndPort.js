"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const userInteraction_1 = __importDefault(require("../../userInteraction"));
async function configureHostAndPort({ configuration }) {
    const defaultHostname = configuration.setting('remote_recording.host', 'localhost');
    const { hostname } = await userInteraction_1.default.prompt({
        type: 'input',
        name: 'hostname',
        message: 'Enter the hostname that your server is running on:',
        default: defaultHostname,
    });
    if (hostname !== defaultHostname) {
        configuration.setSetting('remote_recording.host', hostname);
    }
    let port;
    const defaultPort = configuration.setting('remote_recording.port', 3000);
    while (!port) {
        const { portNumber: answer } = await userInteraction_1.default.prompt({
            type: 'input',
            name: 'portNumber',
            message: 'Enter the port number on which your server is listening:',
            default: defaultPort,
        });
        port = parseInt(answer);
        if (!Number.isNaN(port) && port !== defaultPort) {
            configuration.setSetting('remote_recording.port', port);
        }
    }
    await configuration.write();
}
exports.default = configureHostAndPort;
//# sourceMappingURL=configureHostAndPort.js.map
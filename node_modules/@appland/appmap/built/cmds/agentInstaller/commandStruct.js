"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const process_1 = require("process");
class CommandStruct {
    constructor(program, args, path, environment = {}) {
        this.program = program;
        this.path = path;
        this.environment = Object.assign(Object.assign({}, process_1.env), environment);
        this.args = args.map((a) => {
            if (!a.includes(' ')) {
                return a;
            }
            // There shouldn't be a need to embed quotes, so raise an error if the caller tries.
            if (a.includes('"')) {
                throw new Error("Don't embed quotes in args");
            }
            return `"${a}"`;
        });
    }
    toString() {
        return [this.program].concat(this.args).join(' ');
    }
}
exports.default = CommandStruct;
//# sourceMappingURL=commandStruct.js.map
"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const FindEvents_1 = __importDefault(require("../../fulltext/FindEvents"));
async function searchSingleAppMap(appmap, query, options = {}) {
    if (appmap.endsWith('.appmap.json'))
        appmap = appmap.slice(0, -'.appmap.json'.length);
    const findEvents = new FindEvents_1.default(appmap);
    if (options.maxSize)
        findEvents.maxSize = options.maxSize;
    if (options.filter)
        findEvents.filter = options.filter;
    await findEvents.initialize();
    return findEvents.search(query, { maxResults: options.maxResults });
}
exports.default = searchSingleAppMap;
//# sourceMappingURL=searchSingleAppMap.js.map
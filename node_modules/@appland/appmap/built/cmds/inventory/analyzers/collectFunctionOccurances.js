"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const accumulateEvents_1 = require("../../stats/accumulateEvents");
function collectFunctionOccurances(functionOccurrances) {
    return async (appmap) => {
        const eventInfos = await (0, accumulateEvents_1.accumulateEvents)(appmap);
        for (const eventInfo of eventInfos) {
            if (!functionOccurrances[eventInfo.function]) {
                functionOccurrances[eventInfo.function] = eventInfo;
            }
            else {
                const existing = functionOccurrances[eventInfo.function];
                existing.count += eventInfo.count;
                existing.size += eventInfo.size;
            }
        }
    };
}
exports.default = collectFunctionOccurances;
//# sourceMappingURL=collectFunctionOccurances.js.map
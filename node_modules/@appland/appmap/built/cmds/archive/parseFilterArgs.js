"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const console_1 = require("console");
function parseFilterArgs(compareFilter, filterArgs) {
    var _a;
    const filters = new Map();
    for (const filter of filterArgs) {
        const [key, v] = filter.split('=');
        if (!filters.has(key))
            filters.set(key, []);
        (_a = filters.get(key)) === null || _a === void 0 ? void 0 : _a.push(v);
    }
    for (const [key, values] of filters.entries()) {
        if (key === 'hide_external') {
            if (values.length !== 1) {
                (0, console_1.warn)(`hide_external should not be repeated, got: ${values.join(', ')}`);
                continue;
            }
            const value = values[0];
            if (value === 'true')
                compareFilter[key] = true;
            else if (value === 'false')
                compareFilter[key] = false;
            else
                (0, console_1.warn)(`Invalid value for hide_external: ${value}`);
        }
        else {
            if (!compareFilter[key])
                compareFilter[key] = [];
            compareFilter[key].push(...values);
        }
    }
}
exports.default = parseFilterArgs;
//# sourceMappingURL=parseFilterArgs.js.map